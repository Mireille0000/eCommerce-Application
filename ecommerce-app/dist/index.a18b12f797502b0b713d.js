!function(){"use strict";var e={699:function(e,t,n){n.r(t)},952:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.appName=document.createElement("h1"),this.navBar=document.createElement("nav"),this.navigation=document.createElement("ul"),this.navItem=document.createElement("li"),this.link=document.createElement("a")}}},198:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(749)),l=i(n(952)),d=o(n(703)),u=i(n(324)),c=n(383),p=i(n(381)),f=i(n(114));class h extends s.default{constructor(e){super(e),this.pageWrapper.id="log-in-page",this.appName.className="log-in-heading",this.form=(0,d.default)("form","log-in-form"),this.email=(0,d.default)("input","email-input","",[{name:"placeholder",value:"Email"}]),this.emailHint=(0,d.default)("span","email-hint"),this.passwordHint=(0,d.default)("span","password-hint"),this.password=(0,d.default)("input","password-input","",[{name:"placeholder",value:"Password"},{name:"type",value:"password"}]),this.loginButton=(0,d.default)("button","log-in","Log in"),this.regButton=(0,d.default)("button","sign-up","Sign up")}renderPage(){document.body.append(this.pageWrapper),this.pageWrapper.append(this.header,this.main,this.footer),this.main.className="log-in-main";const e=new l.default,t=[e.appName,e.navBar,e.navigation,e.navItem,e.link];e.navBar.className="nav-bar";const[n,a,r,o,i]=t;this.addElemsToHeader(n,a),a.append(r),r.append(o),o.append(i),i.innerHTML="Back to Main",n.innerHTML="Ultimate ScriptSmith",this.addElemsToMain(this.form);const s=(0,d.default)("fieldset","log-in-fieldset"),h=(0,d.default)("legend","log-in-legend","Authentication form");this.form.append(s,this.loginButton,this.regButton);const m=(0,d.default)("div","email-container"),v=(0,d.default)("div","password-container");s.append(h,m,v);const g=(0,d.default)("div","hints-email"),w=(0,d.default)("div","hints-password");g.append(this.emailHint),w.append(this.passwordHint),m.append(this.email,g);const y=(0,d.default)("span","show-password");for(let e=0;e<2;e+=1)g.appendChild(this.emailHint.cloneNode(!0));for(let e=0;e<5;e+=1)w.appendChild(this.passwordHint.cloneNode(!0));v.append(this.password,y,w);const E=(0,d.createImage)(p.default,"Opened eye","opened-eye",new Image),_=(0,d.createImage)(f.default,"Closed eye","closed-eye",new Image);return(0,d.addEventHandler)("show-password","click",(()=>{"password"===this.password.type?(_.style.display="none",E.style.display="block",this.password.setAttribute("type","text"),y.append(E)):(E.style.display="none",_.style.display="flex",y.append(_),this.password.setAttribute("type","password"))})),this.loginButton.addEventListener("click",(e=>{c.isEmailFormat.test(this.email.value)&&c.isPasswordFormat.test(this.password.value)?(0,u.default)(this.email.value,this.password.value):console.log("invalid cridentials"),e.preventDefault()})),y.append(_),(0,c.logInBtnEventHandler)(this.email,"email-hint","log-in"),(0,c.emailInputEventHandler)(this.email,"email-input","email-hint"),(0,c.passwordInputEventHandler)(this.password,"password-input","password-hint"),this.pageWrapper}}t.default=h},383:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.emailInputEventHandler=t.passwordInputEventHandler=t.inputEventHandler=t.logInBtnEventHandler=t.isPasswordFormat=t.isEmailFormat=void 0,t.isEmailFormat=/^\w+([.-]?\w+)*@\w+([.-]?\w+)*([.]\w{2,3})+$/;const n=/[@]{1}/g,a=/\s/,r=["Email should be in a proper format (e.g. user@example.com, to-user@example.fr etc.)","Email should contain an arobase (@)","Email should not contain any leading or trailing whitespaces"];function o(e,o){var i;const s=Array.from(document.querySelectorAll(`.${o}`));t.isEmailFormat.test(e.value)?s.forEach((e=>{e.innerHTML=""})):(s.forEach(((e,t)=>{e.innerHTML=r[t]})),1===(null===(i=`${e.value}`.match(n))||void 0===i?void 0:i.length)&&(s[1].innerHTML=""),a.test(e.value)||(s[2].innerHTML=""))}const i=["Password must be at least 8 characters long","Password must contain at least one uppercase letter (A-Z)","Password must contain at least one lowercase letter (a-z)","Password must contain at least one digit (0-9)","Password must not contain leading or trailing whitespace","Password must contain at least one special character (e.g., !@#$%^&*)"];t.isPasswordFormat=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]).{8,}$/;const s=[t.isPasswordFormat,/(?=.*[A-Z])/,/(?=.*[a-z])/,/(?=.*\d)/,/^\S*$/,/(?=.*[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?])/];function l(e,n){const a=Array.from(document.querySelectorAll(`.${n}`)),r=Array.from(document.querySelectorAll(`.${n}`));t.isPasswordFormat.test(e.value)?r.forEach((e=>{e.innerHTML=""})):(a.forEach(((e,t)=>{e.innerHTML=i[t]})),s.forEach(((t,n)=>{t.test(e.value)?a[n].innerHTML="":a[n].innerHTML=i[n]})))}function d(e,t,n,a){const r=document.querySelector(`.${n}`),o=Array.from(document.querySelectorAll(`.${a}`));null==r||r.addEventListener("input",(()=>{e(t,a),0===t.value.length&&o.forEach((e=>{e.innerHTML=""}))}))}t.logInBtnEventHandler=function(e,t,n){const a=document.querySelector(`.${n}`);null==a||a.addEventListener("click",(n=>{o(e,t),n.preventDefault()}))},t.inputEventHandler=d,t.passwordInputEventHandler=function(e,t,n){d(l,e,t,n)},t.emailInputEventHandler=function(e,t,n){d(o,e,t,n)}},324:function(e,t){var n=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{l(a.next(e))}catch(e){o(e)}}function s(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const a="ecommerce-app-f-devs",r="V2c4_g0WuXk9a76Mpi2SNZF0",o="fUQ87UVBzwinq_JJYBbqsJGFOuYBZGQk";t.default=function(e,t){return n(this,void 0,void 0,(function*(){try{const i=yield function(e,t){return n(this,void 0,void 0,(function*(){const n=yield fetch(`https://auth.europe-west1.gcp.commercetools.com/oauth/${a}/customers/token?grant_type=password&username=${e}&password=${t}`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${btoa(`${r}:${o}`)}`}}),i=yield n.json();if(400===n.status)throw new Error(`${i.message}`).message;return i}))}(e,t);!function(e){n(this,void 0,void 0,(function*(){try{const t=yield fetch(`https://api.europe-west1.gcp.commercetools.com/${a}/me`,{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${e}`}});if(401===t.status)throw new Error("Sign up");{const e=yield t.json();console.log(e)}}catch(e){const t=e;console.log("Invalid access token",t)}}))}(i.access_token)}catch(e){const t=e;console.error(t),console.log("Invalid email and password")}}))}},749:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(n(703));t.default=class{constructor(e){this.pageWrapper=(0,r.default)("div","wrapper"),this.pageWrapper.id=e,this.header=(0,r.default)("header"),this.headerWrapper=(0,r.default)("div","wrapper-header"),this.appName=(0,r.default)("h1"),this.main=(0,r.default)("main"),this.mainWrapper=(0,r.default)("div","wrapper-main"),this.footer=(0,r.default)("footer"),this.footerWrapper=(0,r.default)("div")}addElemsToHeader(...e){return this.header.append(this.headerWrapper),this.headerWrapper.append(...e)}addElemsToMain(...e){return this.main.append(this.mainWrapper),this.mainWrapper.append(...e)}addElemsToFooter(...e){return this.footer.append(this.footerWrapper),this.footerWrapper.append(...e)}renderPage(){return this.pageWrapper}}},703:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createImage=t.addEventHandler=void 0,t.default=function(e,t="",n="",a=[]){const r=document.createElement(`${e}`);return t&&(r.className=`${t}`),n&&(r.innerHTML=`${n}`),a.length&&a.forEach((e=>r.setAttribute(e.name,e.value))),r},t.addEventHandler=function(e,t,n=(()=>{})){const a=document.querySelector(`.${e}`);null==a||a.addEventListener(`${t}`,n)},t.createImage=function(e,t,n,a=new Image){const r=a;return r.src=`${e}`,r.alt=`${t}`,r.className=`.${n}`,r}},156:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(699),new(a(n(198)).default)("log-in-page").renderPage()},114:function(e,t,n){e.exports=n.p+"assets/close-eye.png"},381:function(e,t,n){e.exports=n.p+"assets/eye.png"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var r=a.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=a[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),n(156)}();